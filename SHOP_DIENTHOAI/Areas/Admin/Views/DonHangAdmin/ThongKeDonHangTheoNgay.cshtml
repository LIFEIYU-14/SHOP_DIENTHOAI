
@model IEnumerable<SHOP_DIENTHOAI.Models.ThongKeDonHang>

@{
    ViewBag.Title = "Thống kê đơn hàng theo ngày";
    Layout = "~/Areas/Admin/Views/Shared/_MainLayoutAdmin.cshtml";
    decimal totalAmount = Model.Sum(item => item.TongDoanhThu); // Tính tổng doanh thu trước
}

<div class="container">
    <h2 class="mt-3 mb-4 text-center">Thống kê đơn hàng theo ngày</h2>
    <hr />

    <table class="table table-bordered table-hover">
        <thead class="thead-dark">
            <tr>
                <th scope="col">Ngày</th>
                <th scope="col">Tổng số đơn hàng</th>
                <th scope="col">Doanh thu</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                   <td>@Html.DisplayFor(modelItem => item.Ngay)</td> <!-- Định dạng ngày -->
                    <td>@item.TongSoDonHang</td>
                    <td>@String.Format("{0:0,0}", item.TongDoanhThu) VNĐ</td>
                </tr>
            }
        </tbody>
    </table>

    <div class="text-right mt-3">
        <strong style="font-size:20px;color:#ffd800">Tổng doanh thu:</strong>
        <strong style="font-size:20px;color:red"> @String.Format("{0:0,0}", totalAmount) VNĐ</strong>
    </div>
</div>
